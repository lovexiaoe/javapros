---
title: java语言规范-类型-值-变量
published: true
category: java语言规范
---

## 类型
java是一种静态类型语言，意味着在编译器已经决定了变量及表达式拥有一个确定的类型。

Java也是一种强语言类型，类型限定了一个变量或表达式表示的值。也限制了这些值所支持的操作，并确定了操作的意义。强语言类型有助于在编译器发现错误。

Java语言的类型可以分为两种，一种是原始类型，另一种是引用类型。原始类型如：char,int,long,float等。引用类型包括class类型，接口类型和数组类型。
还有一个特殊的null。一个object是一个class动态创建的实例，或者一个class动态创建的数组。**所有的对象，包括接口和数组都支持Object的方法**。

null没有匹配的类型，所有的引用类型都可以设置为null，null也可以转换为所有的引用类型。

## type、classes and interfaces
在java中每个变量或者表达式都有一个在编译时确定的type。这个类型可能是primitive或者reference。Reference包括了class类型和interface类型。
我们常说的type指的是一个class或者interface。

在java虚拟机中，每个对象都属于某个特定的类。这个类在创建时被指定，或者通过调用类对象的反射方法确定。

每个数组也有一个类，调用getClass会返回一个表示数组的类对象。  

一个变量的编译期类型时确定的，编译期类型限定了变量在运行时可以持有的值。
变量或表达式的编译期类型很可能是一个接口，类型为接口的变量或表达式可以指向任何实现该接口的对象。
有时，变量或者表达式拥有一个运行时类型。假设其值不为null,运行时类型指的是对象或表达式的值引用的对象的类。

编译期类型和运行时类型不一致有两种原因：
1. 在运行时，类或者接口被JVM使用classloader加载，每个classloader加载它自己的类和接口集合。这就导致在运行时，
一个相同的类或者接口的定义被两个不同的classloader加载，而产生出不同的类或者接口。因此，如果类加载器不一致，正确编译的代码可能在链接时失败。
2. Type variable 和 Type argument在运行时，没有具体化。结果，在运行时相同的类或者接口在编译期表示为不同的参数化类型。
